// original test path: /Users/curtis/Github/Thesis/chatTester/Repos/tabulapdf_tabula-java/src/test/java/technology/tabula/extractors/SpreadsheetExtractionAlgorithm_ESTest.java
/*
 * This file was automatically generated by EvoSuite
 * Sat Feb 10 09:51:32 GMT 2024
 */
package technology.tabula.extractors;
import static org.junit.Assert.*;
import org.junit.Test;
import java.awt.geom.Point2D;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import technology.tabula.Cell;
import technology.tabula.Ruling;
import technology.tabula.extractors.SpreadsheetExtractionAlgorithm;
import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.util.LinkedList;
import java.util.List;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.junit.runner.RunWith;
import technology.tabula.Cell;
import technology.tabula.Page;
import technology.tabula.Rectangle;
import technology.tabula.Ruling;
import technology.tabula.extractors.SpreadsheetExtractionAlgorithm;

@RunWith(EvoRunner.class)
@EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = false)
public class SpreadsheetExtractionAlgorithm_ESTest extends SpreadsheetExtractionAlgorithm_ESTest_scaffolding {
    @Test
    public void testFindCells_2x2Grid() {
        // Horizontal rulings at y=0,10,20 spanning x=0 to 30
        List<Ruling> horizontal = Arrays.asList(
                createHorizontalRuling(0, 0, 30),
                createHorizontalRuling(10, 0, 30),
                createHorizontalRuling(20, 0, 30)
        );

        // Vertical rulings at x=0,15,30 spanning y=0 to 20
        List<Ruling> vertical = Arrays.asList(
                createVerticalRuling(0, 0, 20),
                createVerticalRuling(15, 0, 20),
                createVerticalRuling(30, 0, 20)
        );

        List<Cell> cells = SpreadsheetExtractionAlgorithm.findCells(horizontal, vertical);

        // Expect 4 cells in a 2x2 grid
        assertEquals(4, cells.size());

        // Expected cells top-left and bottom-right points
        List<Point2D> expectedTopLefts = Arrays.asList(
                new Point2D.Float(0, 0),
                new Point2D.Float(15, 0),
                new Point2D.Float(0, 10),
                new Point2D.Float(15, 10)
        );
        List<Point2D> expectedBottomRights = Arrays.asList(
                new Point2D.Float(15, 10),
                new Point2D.Float(30, 10),
                new Point2D.Float(15, 20),
                new Point2D.Float(30, 20)
        );

        for (int i = 0; i < cells.size(); i++) {
            Cell cell = cells.get(i);
            Point2D topLeft = cell.getTopLeft();
            Point2D bottomRight = cell.getBottomRight();
            boolean foundMatch = false;
            for (int j = 0; j < expectedTopLefts.size(); j++) {
                if (pointsEqual(topLeft, expectedTopLefts.get(j)) &&
                    pointsEqual(bottomRight, expectedBottomRights.get(j))) {
                    foundMatch = true;
                    break;
                }
            }
            assertTrue("Cell with topLeft " + topLeft + " and bottomRight " + bottomRight + " not expected", foundMatch);
        }
    }
}

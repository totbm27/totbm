// original test path: /Users/curtis/Github/Thesis/chatTester/Repos/tabulapdf_tabula-java/src/test/java/technology/tabula/extractors/BasicExtractionAlgorithm_ESTest.java
/*
 * This file was automatically generated by EvoSuite
 * Sat Feb 10 09:49:38 GMT 2024
 */
package technology.tabula.extractors;
import static org.junit.Assert.*;
import static org.mockito.Mockito.*;
import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.util.LinkedList;
import java.util.List;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.junit.runner.RunWith;
import technology.tabula.Line;
import technology.tabula.Page;
import technology.tabula.Ruling;
import technology.tabula.TextChunk;
import technology.tabula.extractors.BasicExtractionAlgorithm;

@RunWith(EvoRunner.class)
@EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = false)
public class BasicExtractionAlgorithm_ESTest extends BasicExtractionAlgorithm_ESTest_scaffolding {
    @Test
    public void testExtractWithVerticalRulingPositions() {
        // Arrange
        Page mockPage = mock(Page.class);
        when(mockPage.getTop()).thenReturn(0.0f);
        when(mockPage.getHeight()).thenReturn(800.0f);

        List<Float> verticalPositions = Arrays.asList(50.0f, 150.0f, 250.0f);

        // Create a spy of BasicExtractionAlgorithm to mock the extract(Page) method
        BasicExtractionAlgorithm algorithm = spy(new BasicExtractionAlgorithm());

        // Prepare a dummy list of Table objects to be returned by the delegated extract(Page) call
        List<Table> expectedTables = Arrays.asList(mock(Table.class), mock(Table.class));
        doReturn(expectedTables).when(algorithm).extract(mockPage);

        // Act
        List<Table> actualTables = algorithm.extract(mockPage, verticalPositions);

        // Assert
        // Verify that verticalRulings field is updated correctly with Ruling objects at the specified positions
        List<Ruling> rulings = algorithm.verticalRulings;
        assertNotNull("verticalRulings should not be null", rulings);
        assertEquals("verticalRulings size should match verticalPositions size", verticalPositions.size(), rulings.size());

        for (int i = 0; i < verticalPositions.size(); i++) {
            Ruling ruling = rulings.get(i);
            float expectedX = verticalPositions.get(i);
            assertEquals("Ruling x1 should be equal to x2 and match vertical position",
                    expectedX, ruling.getX1(), 0.0f);
            assertEquals("Ruling x2 should be equal to x1 and match vertical position",
                    expectedX, ruling.getX2(), 0.0f);
            assertEquals("Ruling y1 should be page top", 0.0f, ruling.getY1(), 0.0f);
            assertEquals("Ruling y2 should be page top + height", 800.0f, ruling.getY2(), 0.0f);
        }

        // Verify that the returned tables are the ones from the delegated extract(Page) call
        assertSame("Returned tables should be from delegated extract(Page) call", expectedTables, actualTables);

        // Verify that extract(Page) was called exactly once with the mockPage
        verify(algorithm, times(1)).extract(mockPage);
    }
}

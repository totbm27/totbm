// original test path: /Users/curtis/Github/Thesis/chatTester/Repos/tabulapdf_tabula-java/src/test/java/technology/tabula/ProjectionProfile_ESTest.java
/*
 * This file was automatically generated by EvoSuite
 * Sat Feb 10 09:59:46 GMT 2024
 */
package technology.tabula;

import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.util.LinkedList;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.junit.runner.RunWith;
import technology.tabula.Page;
import technology.tabula.ProjectionProfile;
import technology.tabula.Rectangle;

@RunWith(EvoRunner.class)
@EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = false)
public class ProjectionProfile_ESTest extends ProjectionProfile_ESTest_scaffolding {
@Test
public void testFilter() {
    // Test data: a simple array with some fluctuations
    float[] data = new float[] {0f, 1f, 0f, 1f, 0f, 1f, 0f};
    float alpha = 0.5f;

    // Expected behavior: the output should be a smoothed version of data
    // Manually compute expected values:
    // rv[0] = 0
    // rv[1] = 0 + 0.5 * (1 - 0) = 0.5
    // rv[2] = 0.5 + 0.5 * (0 - 0.5) = 0.25
    // rv[3] = 0.25 + 0.5 * (1 - 0.25) = 0.625
    // rv[4] = 0.625 + 0.5 * (0 - 0.625) = 0.3125
    // rv[5] = 0.3125 + 0.5 * (1 - 0.3125) = 0.65625
    // rv[6] = 0.65625 + 0.5 * (0 - 0.65625) = 0.328125
    float[] expected = new float[] {0f, 0.5f, 0.25f, 0.625f, 0.3125f, 0.65625f, 0.328125f};

    float[] result = ProjectionProfile.filter(data, alpha);

    // Assert length equality
    org.junit.Assert.assertEquals(expected.length, result.length);

    // Assert each element is close to expected (allowing small float precision error)
    for (int i = 0; i < expected.length; i++) {
        org.junit.Assert.assertEquals(expected[i], result[i], 1e-6);
    }

    // Additional test: alpha = 0 (no smoothing, output equals input)
    float[] resultAlphaZero = ProjectionProfile.filter(data, 0f);
    for (int i = 0; i < data.length; i++) {
        org.junit.Assert.assertEquals(data[i], resultAlphaZero[i], 1e-6);
    }

    // Additional test: alpha = 1 (output equals input at each step)
    float[] resultAlphaOne = ProjectionProfile.filter(data, 1f);
    // For alpha=1, rv[i] = data[i]
    for (int i = 0; i < data.length; i++) {
        org.junit.Assert.assertEquals(data[i], resultAlphaOne[i], 1e-6);
    }
}
}

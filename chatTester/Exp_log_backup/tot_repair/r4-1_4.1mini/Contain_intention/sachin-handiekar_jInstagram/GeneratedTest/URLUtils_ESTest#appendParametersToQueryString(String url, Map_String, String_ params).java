// original test path: /Users/curtis/Github/Thesis/chatTester/Repos/sachin-handiekar_jInstagram/src/test/java/org/jinstagram/http/URLUtils_ESTest.java
/*
 * This file was automatically generated by EvoSuite
 * Sat Jan 27 04:48:19 GMT 2024
 */
package org.jinstagram.http;

import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.util.HashMap;
import java.util.Map;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.jinstagram.http.URLUtils;
import org.junit.runner.RunWith;

@RunWith(EvoRunner.class)
@EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = false)
public class URLUtils_ESTest extends URLUtils_ESTest_scaffolding {
@Test
public void testAppendParametersToQueryString() {
    // Test appending parameters to a URL without existing query string
    String baseUrl = "http://example.com/path";
    Map<String, String> params = new HashMap<>();
    params.put("key1", "value1");
    params.put("key2", "value 2"); // space to test encoding

    String result = URLUtils.appendParametersToQueryString(baseUrl, params);
    // The result should start with baseUrl + '?'
    assert result.startsWith(baseUrl + "?");
    // The parameters should be URL encoded and joined with '&'
    assert result.contains("key1=value1");
    assert result.contains("key2=value%202") || result.contains("key2=value+2"); // depending on encoding style

    // Test appending parameters to a URL with existing query string
    String urlWithQuery = "http://example.com/path?existing=param";
    Map<String, String> moreParams = new HashMap<>();
    moreParams.put("newkey", "newvalue");

    String result2 = URLUtils.appendParametersToQueryString(urlWithQuery, moreParams);
    // The result should start with urlWithQuery + '&'
    assert result2.startsWith(urlWithQuery + "&");
    assert result2.contains("newkey=newvalue");

    // Test appending empty parameters map returns original URL unchanged
    String unchanged = URLUtils.appendParametersToQueryString(baseUrl, new HashMap<>());
    assert unchanged.equals(baseUrl);

    // Test that passing null URL throws NullPointerException (via Preconditions)
    boolean threw = false;
    try {
        URLUtils.appendParametersToQueryString(null, params);
    } catch (NullPointerException e) {
        threw = true;
    }
    assert threw;
}
}

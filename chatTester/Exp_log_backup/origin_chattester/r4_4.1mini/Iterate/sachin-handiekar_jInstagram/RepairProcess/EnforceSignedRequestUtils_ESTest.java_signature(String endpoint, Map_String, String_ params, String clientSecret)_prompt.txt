0-->1-->0-->compileRepair


# Test Method
@Test
public void testSignature_withValidInput_returnsExpectedSignature() throws Exception {
    String endpoint = "/v1/users/self/media/recent";

       <Buggy Line>: diamond operator is not supported in -source 1.6
    HashMap<String, String> params = new HashMap<>();

    params.put("count", "10");
    params.put("max_id", "12345");
    params.put("min_id", "54321");
    String clientSecret = "mySecretKey";
    String dataToSign = "/v1/users/self/media/recent|count=10|max_id=12345|min_id=54321";
    javax.crypto.Mac mac = javax.crypto.Mac.getInstance("HmacSHA256");
    javax.crypto.spec.SecretKeySpec keySpec = new javax.crypto.spec.SecretKeySpec(clientSecret.getBytes(java.nio.charset.StandardCharsets.UTF_8), "HmacSHA256");
    mac.init(keySpec);
    byte[] rawHmac = mac.doFinal(dataToSign.getBytes(java.nio.charset.StandardCharsets.UTF_8));
    StringBuilder sb = new StringBuilder();
    for (byte b : rawHmac) {
        sb.append(String.format("%02x", b & 0xff));
    }
    String expectedSignature = sb.toString();
    String actualSignature = EnforceSignedRequestUtils.signature(endpoint, params, clientSecret);
    org.junit.Assert.assertEquals(expectedSignature, actualSignature);
}


# Instruction
The test method has a bug error (marked <Buggy Line>). 
 Please repair the buggy code line and return the complete and compilable test method after repair. 
The generated code should be enclosed within ``` ```.

########


// original test path: /Users/curtis/Github/Thesis/chatTester/Repos/sachin-handiekar_jInstagram/src/test/java/org/jinstagram/auth/model/OAuthRequest_ESTest.java
/*
 * This file was automatically generated by EvoSuite
 * Sat Jan 27 03:21:21 GMT 2024
 */
package org.jinstagram.auth.model;



import java.lang.reflect.Field;
import java.util.HashMap;
import java.util.*;
import java.lang.*;
import static org.junit.Assert.assertEquals;
import org.junit.Test;
import java.util.Map;
import org.jinstagram.auth.model.Verbs;
import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.util.Map;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.jinstagram.auth.model.OAuthRequest;
import org.jinstagram.http.Verbs;
import org.junit.runner.RunWith;

@RunWith(EvoRunner.class)
@EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = false)
public class OAuthRequest_ESTest extends OAuthRequest_ESTest_scaffolding {
    

    



@Test
public void testAddOAuthParameter_insertsAndUpdatesParameter() throws Exception {
    // Arrange:
    // Create a subclass of OAuthRequest to override checkKey for testing purposes,
    // since checkKey is not defined in the given code.
    class TestOAuthRequest extends OAuthRequest {
        public TestOAuthRequest(Verbs verb, String url) {
            super(verb, url);
        }
        @Override
        protected String checkKey(String key) {
            // For test, normalize key to lowercase to simulate validation or normalization
            return key == null ? null : key.toLowerCase();
        }
    }
    Verbs dummyVerb = Verbs.GET; // Assuming Verbs is an enum
    String dummyUrl = "http://example.com";

    TestOAuthRequest request = new TestOAuthRequest(dummyVerb, dummyUrl);

    // Act:
    // Add a parameter with mixed case key
    request.addOAuthParameter("ToKeN", "abc123");
    // Add another parameter with a different key
    request.addOAuthParameter("Secret", "xyz789");
    // Update the first parameter with a new value
    request.addOAuthParameter("TOKEN", "updatedValue");

    // Assert:
    // Use reflection to access the private oauthParameters map
    Field field = OAuthRequest.class.getDeclaredField("oauthParameters");
    field.setAccessible(true);
    @SuppressWarnings("unchecked")
    Map<String, String> oauthParams = (Map<String, String>) field.get(request);

    // Keys should be normalized to lowercase
    assertEquals(2, oauthParams.size(), "Map should contain two entries");

    assertTrue(oauthParams.containsKey("token"), "Map should contain normalized key 'token'");
    assertTrue(oauthParams.containsKey("secret"), "Map should contain normalized key 'secret'");

    assertEquals("updatedValue", oauthParams.get("token"), "The value of 'token' should be updated");
    assertEquals("xyz789", oauthParams.get("secret"), "The value of 'secret' should be correct");
}
}
